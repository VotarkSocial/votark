{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _marked = _regeneratorRuntime.mark(followUser),\n    _marked2 = _regeneratorRuntime.mark(watchFollowUser),\n    _marked3 = _regeneratorRuntime.mark(followExtraUser),\n    _marked4 = _regeneratorRuntime.mark(WatchfOLLOWExtraUser),\n    _marked5 = _regeneratorRuntime.mark(unFollowUser),\n    _marked6 = _regeneratorRuntime.mark(watchUnFollowUser),\n    _marked7 = _regeneratorRuntime.mark(unFollowExtraUser),\n    _marked8 = _regeneratorRuntime.mark(watchUnFollowExtraUser),\n    _marked9 = _regeneratorRuntime.mark(fetchUser),\n    _marked10 = _regeneratorRuntime.mark(watchFollowingUserFetch),\n    _marked11 = _regeneratorRuntime.mark(fetchExtraUser),\n    _marked12 = _regeneratorRuntime.mark(watchFollowingExtraUserFetch),\n    _marked13 = _regeneratorRuntime.mark(followersFetch),\n    _marked14 = _regeneratorRuntime.mark(watchFollowersFetch),\n    _marked15 = _regeneratorRuntime.mark(followingFetch),\n    _marked16 = _regeneratorRuntime.mark(watchFollowingFetch),\n    _marked17 = _regeneratorRuntime.mark(updateUser),\n    _marked18 = _regeneratorRuntime.mark(watchUpdateUser),\n    _marked19 = _regeneratorRuntime.mark(deleteUser),\n    _marked20 = _regeneratorRuntime.mark(watchDeleteUser),\n    _marked21 = _regeneratorRuntime.mark(userStoriesFetch),\n    _marked22 = _regeneratorRuntime.mark(watchUserStoriesFetch),\n    _marked23 = _regeneratorRuntime.mark(userFetch),\n    _marked24 = _regeneratorRuntime.mark(watchCurrentUserFetch);\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { call, takeEvery, put, delay, select } from 'redux-saga/effects';\nimport * as selectors from \"../reducers\";\nimport * as actions from \"../actions/user\";\nimport * as types from \"../types/user\";\nimport { API_URL } from \"../../configuration\";\nimport { normalize } from 'normalizr';\nimport * as schemas from \"../schemas/user\";\nvar API_BASE_URL = API_URL + 'api/v1';\n\nfunction followUser(action) {\n  var isAuth, token, user, response, _yield$response$json, non_field_errors;\n\n  return _regeneratorRuntime.wrap(function followUser$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return select(selectors.isAuthenticated);\n\n        case 3:\n          isAuth = _context.sent;\n\n          if (!isAuth) {\n            _context.next = 25;\n            break;\n          }\n\n          _context.next = 7;\n          return select(selectors.getAuthToken);\n\n        case 7:\n          token = _context.sent;\n          _context.next = 10;\n          return select(selectors.getAuthUserID);\n\n        case 10:\n          user = _context.sent;\n          _context.next = 13;\n          return call(fetch, API_BASE_URL + \"/follow/\", {\n            method: 'POST',\n            body: JSON.stringify(_objectSpread(_objectSpread({}, action.payload), {}, {\n              follower: user\n            })),\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': \"JWT \" + token\n            }\n          });\n\n        case 13:\n          response = _context.sent;\n\n          if (!(response.status === 201)) {\n            _context.next = 19;\n            break;\n          }\n\n          _context.next = 17;\n          return put(actions.completeFollowUser());\n\n        case 17:\n          _context.next = 25;\n          break;\n\n        case 19:\n          _context.next = 21;\n          return response.json();\n\n        case 21:\n          _yield$response$json = _context.sent;\n          non_field_errors = _yield$response$json.non_field_errors;\n          _context.next = 25;\n          return put(actions.failFollowUser(non_field_errors[0]));\n\n        case 25:\n          _context.next = 31;\n          break;\n\n        case 27:\n          _context.prev = 27;\n          _context.t0 = _context[\"catch\"](0);\n          _context.next = 31;\n          return put(actions.failFollowUser('CONNECTION FAILED'));\n\n        case 31:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 27]]);\n}\n\nexport function watchFollowUser() {\n  return _regeneratorRuntime.wrap(function watchFollowUser$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeEvery(types.USER_FOLLOW_STARTED, followUser);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction followExtraUser(action) {\n  var isAuth, token, user, response, _yield$response$json2, non_field_errors;\n\n  return _regeneratorRuntime.wrap(function followExtraUser$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return select(selectors.isAuthenticated);\n\n        case 3:\n          isAuth = _context3.sent;\n\n          if (!isAuth) {\n            _context3.next = 25;\n            break;\n          }\n\n          _context3.next = 7;\n          return select(selectors.getAuthToken);\n\n        case 7:\n          token = _context3.sent;\n          _context3.next = 10;\n          return select(selectors.getAuthUserID);\n\n        case 10:\n          user = _context3.sent;\n          _context3.next = 13;\n          return call(fetch, API_BASE_URL + \"/follow/\", {\n            method: 'POST',\n            body: JSON.stringify(_objectSpread(_objectSpread({}, action.payload), {}, {\n              follower: user\n            })),\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': \"JWT \" + token\n            }\n          });\n\n        case 13:\n          response = _context3.sent;\n\n          if (!(response.status === 201)) {\n            _context3.next = 19;\n            break;\n          }\n\n          _context3.next = 17;\n          return put(actions.completeFollowExtraUser());\n\n        case 17:\n          _context3.next = 25;\n          break;\n\n        case 19:\n          _context3.next = 21;\n          return response.json();\n\n        case 21:\n          _yield$response$json2 = _context3.sent;\n          non_field_errors = _yield$response$json2.non_field_errors;\n          _context3.next = 25;\n          return put(actions.failFollowExtraUser(non_field_errors[0]));\n\n        case 25:\n          _context3.next = 31;\n          break;\n\n        case 27:\n          _context3.prev = 27;\n          _context3.t0 = _context3[\"catch\"](0);\n          _context3.next = 31;\n          return put(actions.failFollowExtraUser('CONNECTION FAILED'));\n\n        case 31:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 27]]);\n}\n\nexport function WatchfOLLOWExtraUser() {\n  return _regeneratorRuntime.wrap(function WatchfOLLOWExtraUser$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeEvery(types.EXTRA_USER_FOLLOW_STARTED, followExtraUser);\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction unFollowUser(action) {\n  var isAuth, token, response, _yield$response$json3, non_field_errors;\n\n  return _regeneratorRuntime.wrap(function unFollowUser$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _context5.next = 3;\n          return select(selectors.isAuthenticated);\n\n        case 3:\n          isAuth = _context5.sent;\n\n          if (!isAuth) {\n            _context5.next = 22;\n            break;\n          }\n\n          _context5.next = 7;\n          return select(selectors.getAuthToken);\n\n        case 7:\n          token = _context5.sent;\n          _context5.next = 10;\n          return call(fetch, API_BASE_URL + \"/follow/unfollow/\", {\n            method: 'POST',\n            body: JSON.stringify(_objectSpread({}, action.payload)),\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': \"JWT \" + token\n            }\n          });\n\n        case 10:\n          response = _context5.sent;\n\n          if (!(response.status === 200)) {\n            _context5.next = 16;\n            break;\n          }\n\n          _context5.next = 14;\n          return put(actions.completeUnFollowExtraUser());\n\n        case 14:\n          _context5.next = 22;\n          break;\n\n        case 16:\n          _context5.next = 18;\n          return response.json();\n\n        case 18:\n          _yield$response$json3 = _context5.sent;\n          non_field_errors = _yield$response$json3.non_field_errors;\n          _context5.next = 22;\n          return put(actions.failUnFollowUser(non_field_errors[0]));\n\n        case 22:\n          _context5.next = 28;\n          break;\n\n        case 24:\n          _context5.prev = 24;\n          _context5.t0 = _context5[\"catch\"](0);\n          _context5.next = 28;\n          return put(actions.failUnFollowUser('CONNECTION FAILED'));\n\n        case 28:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5, null, [[0, 24]]);\n}\n\nexport function watchUnFollowUser() {\n  return _regeneratorRuntime.wrap(function watchUnFollowUser$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return takeEvery(types.USER_UNFOLLOW_STARTED, unFollowUser);\n\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6);\n}\n\nfunction unFollowExtraUser(action) {\n  var isAuth, token, response, _yield$response$json4, non_field_errors;\n\n  return _regeneratorRuntime.wrap(function unFollowExtraUser$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          _context7.next = 3;\n          return select(selectors.isAuthenticated);\n\n        case 3:\n          isAuth = _context7.sent;\n\n          if (!isAuth) {\n            _context7.next = 22;\n            break;\n          }\n\n          _context7.next = 7;\n          return select(selectors.getAuthToken);\n\n        case 7:\n          token = _context7.sent;\n          _context7.next = 10;\n          return call(fetch, API_BASE_URL + \"/follow/unfollow/\", {\n            method: 'POST',\n            body: JSON.stringify(_objectSpread({}, action.payload)),\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': \"JWT \" + token\n            }\n          });\n\n        case 10:\n          response = _context7.sent;\n\n          if (!(response.status === 200)) {\n            _context7.next = 16;\n            break;\n          }\n\n          _context7.next = 14;\n          return put(actions.completeUnFollowExtraUser());\n\n        case 14:\n          _context7.next = 22;\n          break;\n\n        case 16:\n          _context7.next = 18;\n          return response.json();\n\n        case 18:\n          _yield$response$json4 = _context7.sent;\n          non_field_errors = _yield$response$json4.non_field_errors;\n          _context7.next = 22;\n          return put(actions.failUnFollowExtraUser(non_field_errors[0]));\n\n        case 22:\n          _context7.next = 28;\n          break;\n\n        case 24:\n          _context7.prev = 24;\n          _context7.t0 = _context7[\"catch\"](0);\n          _context7.next = 28;\n          return put(actions.failUnFollowExtraUser('CONNECTION FAILED'));\n\n        case 28:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7, null, [[0, 24]]);\n}\n\nexport function watchUnFollowExtraUser() {\n  return _regeneratorRuntime.wrap(function watchUnFollowExtraUser$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return takeEvery(types.EXTRA_USER_UNFOLLOW_STARTED, unFollowExtraUser);\n\n        case 2:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8);\n}\n\nfunction fetchUser(action) {\n  var isAuth, token, response, _yield$response$json5, result, _yield$response$json6, non_field_errors;\n\n  return _regeneratorRuntime.wrap(function fetchUser$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.prev = 0;\n          _context9.next = 3;\n          return select(selectors.isAuthenticated);\n\n        case 3:\n          isAuth = _context9.sent;\n\n          if (!isAuth) {\n            _context9.next = 26;\n            break;\n          }\n\n          _context9.next = 7;\n          return select(selectors.getAuthToken);\n\n        case 7:\n          token = _context9.sent;\n          _context9.next = 10;\n          return call(fetch, API_BASE_URL + \"/user/\" + action.payload.id + \"/isfollowing/\", {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': \"JWT \" + token\n            }\n          });\n\n        case 10:\n          response = _context9.sent;\n\n          if (!(response.status === 200)) {\n            _context9.next = 20;\n            break;\n          }\n\n          _context9.next = 14;\n          return response.json();\n\n        case 14:\n          _yield$response$json5 = _context9.sent;\n          result = _yield$response$json5.result;\n          _context9.next = 18;\n          return put(actions.completeExtraUserFollowFetch(result));\n\n        case 18:\n          _context9.next = 26;\n          break;\n\n        case 20:\n          _context9.next = 22;\n          return response.json();\n\n        case 22:\n          _yield$response$json6 = _context9.sent;\n          non_field_errors = _yield$response$json6.non_field_errors;\n          _context9.next = 26;\n          return put(actions.failUserFollowFetcch(non_field_errors[0]));\n\n        case 26:\n          _context9.next = 32;\n          break;\n\n        case 28:\n          _context9.prev = 28;\n          _context9.t0 = _context9[\"catch\"](0);\n          _context9.next = 32;\n          return put(actions.failUserFollowFetcch('CONNECTION FAILED'));\n\n        case 32:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, _marked9, null, [[0, 28]]);\n}\n\nexport function watchFollowingUserFetch() {\n  return _regeneratorRuntime.wrap(function watchFollowingUserFetch$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return takeEvery(types.USER_IS_FOLLOWING_FETCH_STARTED, fetchUser);\n\n        case 2:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  }, _marked10);\n}\n\nfunction fetchExtraUser(action) {\n  var isAuth, token, response, _yield$response$json7, result, _yield$response$json8, non_field_errors;\n\n  return _regeneratorRuntime.wrap(function fetchExtraUser$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.prev = 0;\n          _context11.next = 3;\n          return select(selectors.isAuthenticated);\n\n        case 3:\n          isAuth = _context11.sent;\n\n          if (!isAuth) {\n            _context11.next = 26;\n            break;\n          }\n\n          _context11.next = 7;\n          return select(selectors.getAuthToken);\n\n        case 7:\n          token = _context11.sent;\n          _context11.next = 10;\n          return call(fetch, API_BASE_URL + \"/user/\" + action.payload.id + \"/isfollowing/\", {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': \"JWT \" + token\n            }\n          });\n\n        case 10:\n          response = _context11.sent;\n\n          if (!(response.status === 200)) {\n            _context11.next = 20;\n            break;\n          }\n\n          _context11.next = 14;\n          return response.json();\n\n        case 14:\n          _yield$response$json7 = _context11.sent;\n          result = _yield$response$json7.result;\n          _context11.next = 18;\n          return put(actions.completeExtraUserFollowFetch(result));\n\n        case 18:\n          _context11.next = 26;\n          break;\n\n        case 20:\n          _context11.next = 22;\n          return response.json();\n\n        case 22:\n          _yield$response$json8 = _context11.sent;\n          non_field_errors = _yield$response$json8.non_field_errors;\n          _context11.next = 26;\n          return put(actions.failExtraUserFollowFetcch(non_field_errors[0]));\n\n        case 26:\n          _context11.next = 32;\n          break;\n\n        case 28:\n          _context11.prev = 28;\n          _context11.t0 = _context11[\"catch\"](0);\n          _context11.next = 32;\n          return put(actions.failUserFollowFetcch('CONNECTION FAILED'));\n\n        case 32:\n        case \"end\":\n          return _context11.stop();\n      }\n    }\n  }, _marked11, null, [[0, 28]]);\n}\n\nexport function watchFollowingExtraUserFetch() {\n  return _regeneratorRuntime.wrap(function watchFollowingExtraUserFetch$(_context12) {\n    while (1) {\n      switch (_context12.prev = _context12.next) {\n        case 0:\n          _context12.next = 2;\n          return takeEvery(types.EXTRA_USER_IS_FOLLOWING_FETCH_STARTED, fetchExtraUser);\n\n        case 2:\n        case \"end\":\n          return _context12.stop();\n      }\n    }\n  }, _marked12);\n}\n\nfunction followersFetch(action) {\n  var isAuth, user, token, response, jsonResult, normalized, _yield$response$json9, non_field_errors;\n\n  return _regeneratorRuntime.wrap(function followersFetch$(_context13) {\n    while (1) {\n      switch (_context13.prev = _context13.next) {\n        case 0:\n          _context13.prev = 0;\n          _context13.next = 3;\n          return select(selectors.isAuthenticated);\n\n        case 3:\n          isAuth = _context13.sent;\n          _context13.next = 6;\n          return select(selectors.getUser);\n\n        case 6:\n          user = _context13.sent;\n\n          if (!(isAuth && user.id)) {\n            _context13.next = 29;\n            break;\n          }\n\n          _context13.next = 10;\n          return select(selectors.getAuthToken);\n\n        case 10:\n          token = _context13.sent;\n          _context13.next = 13;\n          return call(fetch, API_BASE_URL + \"/user/\" + user.id + \"/followers/\", {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': \"JWT \" + token\n            }\n          });\n\n        case 13:\n          response = _context13.sent;\n\n          if (!(response.status === 200)) {\n            _context13.next = 23;\n            break;\n          }\n\n          _context13.next = 17;\n          return response.json();\n\n        case 17:\n          jsonResult = _context13.sent;\n          normalized = normalize(jsonResult, schemas.users);\n          _context13.next = 21;\n          return put(actions.completeFolllwersFetch(normalized.entities.users, normalized.result));\n\n        case 21:\n          _context13.next = 29;\n          break;\n\n        case 23:\n          _context13.next = 25;\n          return response.json();\n\n        case 25:\n          _yield$response$json9 = _context13.sent;\n          non_field_errors = _yield$response$json9.non_field_errors;\n          _context13.next = 29;\n          return put(actions.failFollowersFetch(non_field_errors[0]));\n\n        case 29:\n          _context13.next = 35;\n          break;\n\n        case 31:\n          _context13.prev = 31;\n          _context13.t0 = _context13[\"catch\"](0);\n          _context13.next = 35;\n          return put(actions.failFollowersFetch('CONNECTION FAILED'));\n\n        case 35:\n        case \"end\":\n          return _context13.stop();\n      }\n    }\n  }, _marked13, null, [[0, 31]]);\n}\n\nexport function watchFollowersFetch() {\n  return _regeneratorRuntime.wrap(function watchFollowersFetch$(_context14) {\n    while (1) {\n      switch (_context14.prev = _context14.next) {\n        case 0:\n          _context14.next = 2;\n          return takeEvery(types.FOLLOWERS_FETCH_STARTED, followersFetch);\n\n        case 2:\n        case \"end\":\n          return _context14.stop();\n      }\n    }\n  }, _marked14);\n}\n\nfunction followingFetch(action) {\n  var isAuth, user, token, response, jsonResult, normalized, _yield$response$json10, non_field_errors;\n\n  return _regeneratorRuntime.wrap(function followingFetch$(_context15) {\n    while (1) {\n      switch (_context15.prev = _context15.next) {\n        case 0:\n          _context15.prev = 0;\n          _context15.next = 3;\n          return select(selectors.isAuthenticated);\n\n        case 3:\n          isAuth = _context15.sent;\n          _context15.next = 6;\n          return select(selectors.getUser);\n\n        case 6:\n          user = _context15.sent;\n\n          if (!(isAuth && user.id)) {\n            _context15.next = 29;\n            break;\n          }\n\n          _context15.next = 10;\n          return select(selectors.getAuthToken);\n\n        case 10:\n          token = _context15.sent;\n          _context15.next = 13;\n          return call(fetch, API_BASE_URL + \"/user/\" + user.id + \"/following/\", {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': \"JWT \" + token\n            }\n          });\n\n        case 13:\n          response = _context15.sent;\n\n          if (!(response.status === 200)) {\n            _context15.next = 23;\n            break;\n          }\n\n          _context15.next = 17;\n          return response.json();\n\n        case 17:\n          jsonResult = _context15.sent;\n          normalized = normalize(jsonResult, schemas.users);\n          _context15.next = 21;\n          return put(actions.completeFolllowingFetch(normalized.entities.users, normalized.result));\n\n        case 21:\n          _context15.next = 29;\n          break;\n\n        case 23:\n          _context15.next = 25;\n          return response.json();\n\n        case 25:\n          _yield$response$json10 = _context15.sent;\n          non_field_errors = _yield$response$json10.non_field_errors;\n          _context15.next = 29;\n          return put(actions.failFollowingFetch(non_field_errors[0]));\n\n        case 29:\n          _context15.next = 35;\n          break;\n\n        case 31:\n          _context15.prev = 31;\n          _context15.t0 = _context15[\"catch\"](0);\n          _context15.next = 35;\n          return put(actions.failFollowingFetch('CONNECTION FAILED'));\n\n        case 35:\n        case \"end\":\n          return _context15.stop();\n      }\n    }\n  }, _marked15, null, [[0, 31]]);\n}\n\nexport function watchFollowingFetch() {\n  return _regeneratorRuntime.wrap(function watchFollowingFetch$(_context16) {\n    while (1) {\n      switch (_context16.prev = _context16.next) {\n        case 0:\n          _context16.next = 2;\n          return takeEvery(types.FOLLOWING_FETCH_STARTED, followingFetch);\n\n        case 2:\n        case \"end\":\n          return _context16.stop();\n      }\n    }\n  }, _marked16);\n}\n\nfunction updateUser(action) {\n  var isAuth, user, token, response, jsonResult, _yield$response$json11, non_field_errors;\n\n  return _regeneratorRuntime.wrap(function updateUser$(_context17) {\n    while (1) {\n      switch (_context17.prev = _context17.next) {\n        case 0:\n          _context17.prev = 0;\n          _context17.next = 3;\n          return select(selectors.isAuthenticated);\n\n        case 3:\n          isAuth = _context17.sent;\n          _context17.next = 6;\n          return select(selectors.getUser);\n\n        case 6:\n          user = _context17.sent;\n\n          if (!(isAuth && user.id)) {\n            _context17.next = 28;\n            break;\n          }\n\n          _context17.next = 10;\n          return select(selectors.getAuthToken);\n\n        case 10:\n          token = _context17.sent;\n          _context17.next = 13;\n          return call(fetch, API_BASE_URL + \"/user/\" + user.id + \"/\", {\n            method: 'PATCH',\n            body: action.payload,\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': \"JWT \" + token\n            }\n          });\n\n        case 13:\n          response = _context17.sent;\n\n          if (!(response.status === 200)) {\n            _context17.next = 22;\n            break;\n          }\n\n          _context17.next = 17;\n          return response.json();\n\n        case 17:\n          jsonResult = _context17.sent;\n          _context17.next = 20;\n          return put(actions.completeUptade(jsonResult));\n\n        case 20:\n          _context17.next = 28;\n          break;\n\n        case 22:\n          _context17.next = 24;\n          return response.json();\n\n        case 24:\n          _yield$response$json11 = _context17.sent;\n          non_field_errors = _yield$response$json11.non_field_errors;\n          _context17.next = 28;\n          return put(actions.failUpdate(non_field_errors[0]));\n\n        case 28:\n          _context17.next = 34;\n          break;\n\n        case 30:\n          _context17.prev = 30;\n          _context17.t0 = _context17[\"catch\"](0);\n          _context17.next = 34;\n          return put(actions.failUpdate('CONNECTION FAILED'));\n\n        case 34:\n        case \"end\":\n          return _context17.stop();\n      }\n    }\n  }, _marked17, null, [[0, 30]]);\n}\n\nexport function watchUpdateUser() {\n  return _regeneratorRuntime.wrap(function watchUpdateUser$(_context18) {\n    while (1) {\n      switch (_context18.prev = _context18.next) {\n        case 0:\n          _context18.next = 2;\n          return takeEvery(types.UPDATE_STARTED, updateUser);\n\n        case 2:\n        case \"end\":\n          return _context18.stop();\n      }\n    }\n  }, _marked18);\n}\n\nfunction deleteUser(action) {\n  var isAuth, user, token, response, jsonResult, _yield$response$json12, non_field_errors;\n\n  return _regeneratorRuntime.wrap(function deleteUser$(_context19) {\n    while (1) {\n      switch (_context19.prev = _context19.next) {\n        case 0:\n          _context19.prev = 0;\n          _context19.next = 3;\n          return select(selectors.isAuthenticated);\n\n        case 3:\n          isAuth = _context19.sent;\n          _context19.next = 6;\n          return select(selectors.getUser);\n\n        case 6:\n          user = _context19.sent;\n\n          if (!(isAuth && user.id)) {\n            _context19.next = 28;\n            break;\n          }\n\n          _context19.next = 10;\n          return select(selectors.getAuthToken);\n\n        case 10:\n          token = _context19.sent;\n          _context19.next = 13;\n          return call(fetch, API_BASE_URL + \"/user/\" + user.id + \"/\", {\n            method: 'DELETE',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': \"JWT \" + token\n            }\n          });\n\n        case 13:\n          response = _context19.sent;\n\n          if (!(response.status === 200)) {\n            _context19.next = 22;\n            break;\n          }\n\n          _context19.next = 17;\n          return response.json();\n\n        case 17:\n          jsonResult = _context19.sent;\n          _context19.next = 20;\n          return put(actions.completeDelete());\n\n        case 20:\n          _context19.next = 28;\n          break;\n\n        case 22:\n          _context19.next = 24;\n          return response.json();\n\n        case 24:\n          _yield$response$json12 = _context19.sent;\n          non_field_errors = _yield$response$json12.non_field_errors;\n          _context19.next = 28;\n          return put(actions.failDelete(non_field_errors[0]));\n\n        case 28:\n          _context19.next = 34;\n          break;\n\n        case 30:\n          _context19.prev = 30;\n          _context19.t0 = _context19[\"catch\"](0);\n          _context19.next = 34;\n          return put(actions.failDelete('CONNECTION FAILED'));\n\n        case 34:\n        case \"end\":\n          return _context19.stop();\n      }\n    }\n  }, _marked19, null, [[0, 30]]);\n}\n\nexport function watchDeleteUser() {\n  return _regeneratorRuntime.wrap(function watchDeleteUser$(_context20) {\n    while (1) {\n      switch (_context20.prev = _context20.next) {\n        case 0:\n          _context20.next = 2;\n          return takeEvery(types.DELETE_STARTED, deleteUser);\n\n        case 2:\n        case \"end\":\n          return _context20.stop();\n      }\n    }\n  }, _marked20);\n}\n\nfunction userStoriesFetch(action) {\n  var isAuth, user, token, response, jsonResult, normalized, _yield$response$json13, non_field_errors;\n\n  return _regeneratorRuntime.wrap(function userStoriesFetch$(_context21) {\n    while (1) {\n      switch (_context21.prev = _context21.next) {\n        case 0:\n          _context21.prev = 0;\n          _context21.next = 3;\n          return select(selectors.isAuthenticated);\n\n        case 3:\n          isAuth = _context21.sent;\n          _context21.next = 6;\n          return select(selectors.getUser);\n\n        case 6:\n          user = _context21.sent;\n\n          if (!(isAuth && user.id)) {\n            _context21.next = 29;\n            break;\n          }\n\n          _context21.next = 10;\n          return select(selectors.getAuthToken);\n\n        case 10:\n          token = _context21.sent;\n          _context21.next = 13;\n          return call(fetch, API_BASE_URL + \"/user/\" + user.id + \"/stories/\", {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': \"JWT \" + token\n            }\n          });\n\n        case 13:\n          response = _context21.sent;\n\n          if (!(response.status === 200)) {\n            _context21.next = 23;\n            break;\n          }\n\n          _context21.next = 17;\n          return response.json();\n\n        case 17:\n          jsonResult = _context21.sent;\n          normalized = normalize(jsonResult, schemas.users);\n          _context21.next = 21;\n          return put(actions.completeStoriesFetch(normalized.entities.users, normalized.result));\n\n        case 21:\n          _context21.next = 29;\n          break;\n\n        case 23:\n          _context21.next = 25;\n          return response.json();\n\n        case 25:\n          _yield$response$json13 = _context21.sent;\n          non_field_errors = _yield$response$json13.non_field_errors;\n          _context21.next = 29;\n          return put(actions.failStoriesFetch(non_field_errors[0]));\n\n        case 29:\n          _context21.next = 35;\n          break;\n\n        case 31:\n          _context21.prev = 31;\n          _context21.t0 = _context21[\"catch\"](0);\n          _context21.next = 35;\n          return put(actions.failStoriesFetch('CONNECTION FAILED'));\n\n        case 35:\n        case \"end\":\n          return _context21.stop();\n      }\n    }\n  }, _marked21, null, [[0, 31]]);\n}\n\nexport function watchUserStoriesFetch() {\n  return _regeneratorRuntime.wrap(function watchUserStoriesFetch$(_context22) {\n    while (1) {\n      switch (_context22.prev = _context22.next) {\n        case 0:\n          _context22.next = 2;\n          return takeEvery(types.USER_STORIES_STARTED, userStoriesFetch);\n\n        case 2:\n        case \"end\":\n          return _context22.stop();\n      }\n    }\n  }, _marked22);\n}\n\nfunction userFetch(action) {\n  var isAuth, token, response, jsonResult, _yield$response$json14, non_field_errors;\n\n  return _regeneratorRuntime.wrap(function userFetch$(_context23) {\n    while (1) {\n      switch (_context23.prev = _context23.next) {\n        case 0:\n          _context23.prev = 0;\n          _context23.next = 3;\n          return select(selectors.isAuthenticated);\n\n        case 3:\n          isAuth = _context23.sent;\n\n          if (!isAuth) {\n            _context23.next = 26;\n            break;\n          }\n\n          _context23.next = 7;\n          return select(selectors.getAuthToken);\n\n        case 7:\n          token = _context23.sent;\n          _context23.next = 10;\n          return call(fetch, API_BASE_URL + \"/user/\" + action.payload + \"/\", {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': \"JWT \" + token\n            }\n          });\n\n        case 10:\n          response = _context23.sent;\n\n          if (!(response.status === 200)) {\n            _context23.next = 20;\n            break;\n          }\n\n          _context23.next = 14;\n          return response.json();\n\n        case 14:\n          jsonResult = _context23.sent;\n          _context23.next = 17;\n          return put(actions.completeUsFetch(jsonResult));\n\n        case 17:\n          console.log(jsonResult);\n          _context23.next = 26;\n          break;\n\n        case 20:\n          _context23.next = 22;\n          return response.json();\n\n        case 22:\n          _yield$response$json14 = _context23.sent;\n          non_field_errors = _yield$response$json14.non_field_errors;\n          _context23.next = 26;\n          return put(actions.failUserFetch(non_field_errors[0]));\n\n        case 26:\n          _context23.next = 32;\n          break;\n\n        case 28:\n          _context23.prev = 28;\n          _context23.t0 = _context23[\"catch\"](0);\n          _context23.next = 32;\n          return put(actions.failUserFetch('CONNECTION FAILED'));\n\n        case 32:\n        case \"end\":\n          return _context23.stop();\n      }\n    }\n  }, _marked23, null, [[0, 28]]);\n}\n\nexport function watchCurrentUserFetch() {\n  return _regeneratorRuntime.wrap(function watchCurrentUserFetch$(_context24) {\n    while (1) {\n      switch (_context24.prev = _context24.next) {\n        case 0:\n          _context24.next = 2;\n          return takeEvery(types.USER_STARTED, userFetch);\n\n        case 2:\n        case \"end\":\n          return _context24.stop();\n      }\n    }\n  }, _marked24);\n}","map":{"version":3,"sources":["/home/thecoder/Documentos/votark/votark/src/sagas/user.js"],"names":["followUser","watchFollowUser","followExtraUser","WatchfOLLOWExtraUser","unFollowUser","watchUnFollowUser","unFollowExtraUser","watchUnFollowExtraUser","fetchUser","watchFollowingUserFetch","fetchExtraUser","watchFollowingExtraUserFetch","followersFetch","watchFollowersFetch","followingFetch","watchFollowingFetch","updateUser","watchUpdateUser","deleteUser","watchDeleteUser","userStoriesFetch","watchUserStoriesFetch","userFetch","watchCurrentUserFetch","call","takeEvery","put","delay","select","selectors","actions","types","API_URL","normalize","schemas","API_BASE_URL","action","isAuthenticated","isAuth","getAuthToken","token","getAuthUserID","user","fetch","method","body","JSON","stringify","payload","follower","headers","response","status","completeFollowUser","json","non_field_errors","failFollowUser","USER_FOLLOW_STARTED","completeFollowExtraUser","failFollowExtraUser","EXTRA_USER_FOLLOW_STARTED","completeUnFollowExtraUser","failUnFollowUser","USER_UNFOLLOW_STARTED","failUnFollowExtraUser","EXTRA_USER_UNFOLLOW_STARTED","id","result","completeExtraUserFollowFetch","failUserFollowFetcch","USER_IS_FOLLOWING_FETCH_STARTED","failExtraUserFollowFetcch","EXTRA_USER_IS_FOLLOWING_FETCH_STARTED","getUser","jsonResult","normalized","users","completeFolllwersFetch","entities","failFollowersFetch","FOLLOWERS_FETCH_STARTED","completeFolllowingFetch","failFollowingFetch","FOLLOWING_FETCH_STARTED","completeUptade","failUpdate","UPDATE_STARTED","completeDelete","failDelete","DELETE_STARTED","completeStoriesFetch","failStoriesFetch","USER_STORIES_STARTED","completeUsFetch","console","log","failUserFetch","USER_STARTED"],"mappings":"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","sourcesContent":["import {\n    call,\n    takeEvery,\n    put,\n    // race,\n    // all,\n    delay,\n    select,\n  } from 'redux-saga/effects';\n\nimport * as selectors from '../reducers';\nimport * as actions from '../actions/user';\nimport * as types from '../types/user';\nimport { API_URL } from '../../configuration';\nimport { normalize } from 'normalizr';\nimport * as schemas from '../schemas/user';\n  \n  const API_BASE_URL =  API_URL + 'api/v1';\n  \n\n  function* followUser(action) {\n    try {\n        const isAuth = yield select(selectors.isAuthenticated);\n    \n        if (isAuth) {\n          const token = yield select(selectors.getAuthToken);\n          const user = yield select(selectors.getAuthUserID);\n          const response = yield call(\n            fetch,\n            `${API_BASE_URL}/follow/`,\n            {\n              method: 'POST',\n              body: JSON.stringify({...action.payload,follower:user}),\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${token}`,\n              },\n            }\n          );\n          if (response.status === 201) {\n            yield put(\n              actions.completeFollowUser(),\n            );\n          } else {\n            const { non_field_errors } = yield response.json();\n            yield put(actions.failFollowUser(non_field_errors[0]));\n          }\n        }\n      } catch (error) {\n        yield put(actions.failFollowUser('CONNECTION FAILED'));\n      }\n  }\n  \n  export function* watchFollowUser() {\n    yield takeEvery(\n      types.USER_FOLLOW_STARTED,\n      followUser,\n    );\n  }\n\n\n  function* followExtraUser(action) {\n    try {\n        const isAuth = yield select(selectors.isAuthenticated);\n    \n        if (isAuth) {\n          const token = yield select(selectors.getAuthToken);\n          const user = yield select(selectors.getAuthUserID);\n          const response = yield call(\n            fetch,\n            `${API_BASE_URL}/follow/`,\n            {\n              method: 'POST',\n              body: JSON.stringify({...action.payload,follower:user}),\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${token}`,\n              },\n            }\n          );\n          if (response.status === 201) {\n            yield put(\n              actions.completeFollowExtraUser(),\n            );\n          } else {\n            const { non_field_errors } = yield response.json();\n            yield put(actions.failFollowExtraUser(non_field_errors[0]));\n          }\n        }\n      } catch (error) {\n        yield put(actions.failFollowExtraUser('CONNECTION FAILED'));\n      }\n  }\n  \n  export function* WatchfOLLOWExtraUser() {\n    yield takeEvery(\n      types.EXTRA_USER_FOLLOW_STARTED,\n      followExtraUser,\n    );\n  }\n\n\n\n\n\n\n\n  function* unFollowUser(action) {\n    try {\n        const isAuth = yield select(selectors.isAuthenticated);\n    \n        if (isAuth) {\n          const token = yield select(selectors.getAuthToken);\n          const response = yield call(\n            fetch,\n            `${API_BASE_URL}/follow/unfollow/`,\n            {\n              method: 'POST',\n              body: JSON.stringify({...action.payload}),\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${token}`,\n              },\n            }\n          );\n          if (response.status === 200) {\n            yield put(\n              actions.completeUnFollowExtraUser(),\n            );\n          } else {\n            const { non_field_errors } = yield response.json();\n            yield put(actions.failUnFollowUser(non_field_errors[0]));\n          }\n        }\n      } catch (error) {\n        yield put(actions.failUnFollowUser('CONNECTION FAILED'));\n      }\n  }\n  \n  export function* watchUnFollowUser() {\n    yield takeEvery(\n      types.USER_UNFOLLOW_STARTED,\n      unFollowUser,\n    );\n  }\n\n\n  function* unFollowExtraUser(action) {\n    try {\n        const isAuth = yield select(selectors.isAuthenticated);\n    \n        if (isAuth) {\n          const token = yield select(selectors.getAuthToken);\n          const response = yield call(\n            fetch,\n            `${API_BASE_URL}/follow/unfollow/`,\n            {\n              method: 'POST',\n              body: JSON.stringify({...action.payload}),\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${token}`,\n              },\n            }\n          );\n          if (response.status === 200) {\n            yield put(\n              actions.completeUnFollowExtraUser(),\n            );\n          } else {\n            const { non_field_errors } = yield response.json();\n            yield put(actions.failUnFollowExtraUser(non_field_errors[0]));\n          }\n        }\n      } catch (error) {\n        yield put(actions.failUnFollowExtraUser('CONNECTION FAILED'));\n      }\n  }\n  \n  export function* watchUnFollowExtraUser() {\n    yield takeEvery(\n      types.EXTRA_USER_UNFOLLOW_STARTED,\n      unFollowExtraUser,\n    );\n  }\n\n\n\n  function* fetchUser(action) {\n    try {\n        const isAuth = yield select(selectors.isAuthenticated);\n    \n        if (isAuth) {\n          const token = yield select(selectors.getAuthToken);\n          const response = yield call(\n            fetch,\n            `${API_BASE_URL}/user/${action.payload.id}/isfollowing/`,\n            {\n              method: 'GET',\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${token}`,\n              },\n            }\n          );\n          if (response.status === 200) {\n            const {result} = yield response.json();\n            yield put(\n              actions.completeExtraUserFollowFetch(result),\n            );\n          } else {\n            const { non_field_errors } = yield response.json();\n            yield put(actions.failUserFollowFetcch(non_field_errors[0]));\n          }\n        }\n      } catch (error) {\n        yield put(actions.failUserFollowFetcch('CONNECTION FAILED'));\n      }\n  }\n  \n  export function* watchFollowingUserFetch() {\n    yield takeEvery(\n      types.USER_IS_FOLLOWING_FETCH_STARTED,\n      fetchUser,\n    );\n  }\n\n  function* fetchExtraUser(action) {\n    try {\n        const isAuth = yield select(selectors.isAuthenticated);\n    \n        if (isAuth) {\n          const token = yield select(selectors.getAuthToken);\n          const response = yield call(\n            fetch,\n            `${API_BASE_URL}/user/${action.payload.id}/isfollowing/`,\n            {\n              method: 'GET',\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${token}`,\n              },\n            }\n          );\n          if (response.status === 200) {\n            const {result} = yield response.json();\n            yield put(\n              actions.completeExtraUserFollowFetch(result),\n            );\n          } else {\n            const { non_field_errors } = yield response.json();\n            yield put(actions.failExtraUserFollowFetcch(non_field_errors[0]));\n          }\n        }\n      } catch (error) {\n        yield put(actions.failUserFollowFetcch('CONNECTION FAILED'));\n      }\n  }\n  \n  export function* watchFollowingExtraUserFetch() {\n    yield takeEvery(\n      types.EXTRA_USER_IS_FOLLOWING_FETCH_STARTED,\n      fetchExtraUser,\n    );\n  }\n\n\n  function* followersFetch(action) {\n    try {\n        const isAuth = yield select(selectors.isAuthenticated);\n        const user = yield select(selectors.getUser);\n        if (isAuth && user.id) {\n          const token = yield select(selectors.getAuthToken);\n          const response = yield call(\n            fetch,\n            `${API_BASE_URL}/user/${user.id}/followers/`,\n            {\n              method: 'GET',\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${token}`,\n              },\n            }\n          );\n          if (response.status === 200) {\n            const jsonResult = yield response.json();\n            const normalized = normalize(jsonResult, schemas.users);\n            yield put(\n            actions.completeFolllwersFetch(\n                normalized.entities.users,\n                normalized.result\n            ),\n            );\n          } else {\n            const { non_field_errors } = yield response.json();\n            yield put(actions.failFollowersFetch(non_field_errors[0]));\n          }\n        }\n      } catch (error) {\n        yield put(actions.failFollowersFetch('CONNECTION FAILED'));\n      }\n  }\n  \n  export function* watchFollowersFetch() {\n    yield takeEvery(\n      types.FOLLOWERS_FETCH_STARTED,\n      followersFetch,\n    );\n  }\n\n\n  function* followingFetch(action) {\n    try {\n        const isAuth = yield select(selectors.isAuthenticated);\n        const user = yield select(selectors.getUser);\n        if (isAuth && user.id) {\n          const token = yield select(selectors.getAuthToken);\n          const response = yield call(\n            fetch,\n            `${API_BASE_URL}/user/${user.id}/following/`,\n            {\n              method: 'GET',\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${token}`,\n              },\n            }\n          );\n          if (response.status === 200) {\n            const jsonResult = yield response.json();\n            const normalized = normalize(jsonResult, schemas.users);\n            yield put(\n            actions.completeFolllowingFetch(\n                normalized.entities.users,\n                normalized.result\n            ),\n            );\n          } else {\n            const { non_field_errors } = yield response.json();\n            yield put(actions.failFollowingFetch(non_field_errors[0]));\n          }\n        }\n      } catch (error) {\n        yield put(actions.failFollowingFetch('CONNECTION FAILED'));\n      }\n  }\n  \n  export function* watchFollowingFetch() {\n    yield takeEvery(\n      types.FOLLOWING_FETCH_STARTED,\n      followingFetch,\n    );\n  }\n\n\n  function* updateUser(action) {\n    try {\n        const isAuth = yield select(selectors.isAuthenticated);\n        const user = yield select(selectors.getUser);\n        if (isAuth && user.id) {\n          const token = yield select(selectors.getAuthToken);\n          const response = yield call(\n            fetch,\n            `${API_BASE_URL}/user/${user.id}/`,\n            {\n              method: 'PATCH',\n              body: action.payload,\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${token}`,\n              },\n            }\n          );\n          if (response.status === 200) {\n            const jsonResult = yield response.json();\n            yield put(\n            actions.completeUptade(\n                jsonResult\n            ),\n            );\n          } else {\n            const { non_field_errors } = yield response.json();\n            yield put(actions.failUpdate(non_field_errors[0]));\n          }\n        }\n      } catch (error) {\n        yield put(actions.failUpdate('CONNECTION FAILED'));\n      }\n  }\n  \n  export function* watchUpdateUser() {\n    yield takeEvery(\n      types.UPDATE_STARTED,\n      updateUser,\n    );\n  }\n\n\n\n  function* deleteUser(action) {\n    try {\n        const isAuth = yield select(selectors.isAuthenticated);\n        const user = yield select(selectors.getUser);\n        if (isAuth && user.id) {\n          const token = yield select(selectors.getAuthToken);\n          const response = yield call(\n            fetch,\n            `${API_BASE_URL}/user/${user.id}/`,\n            {\n              method: 'DELETE',\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${token}`,\n              },\n            }\n          );\n          if (response.status === 200) {\n            const jsonResult = yield response.json();\n            yield put(\n            actions.completeDelete(),\n            );\n          } else {\n            const { non_field_errors } = yield response.json();\n            yield put(actions.failDelete(non_field_errors[0]));\n          }\n        }\n      } catch (error) {\n        yield put(actions.failDelete('CONNECTION FAILED'));\n      }\n  }\n  \n  export function* watchDeleteUser() {\n    yield takeEvery(\n      types.DELETE_STARTED,\n      deleteUser,\n    );\n  }\n  \n\n\n  function* userStoriesFetch(action) {\n    try {\n        const isAuth = yield select(selectors.isAuthenticated);\n        const user = yield select(selectors.getUser);\n        if (isAuth && user.id) {\n          const token = yield select(selectors.getAuthToken);\n          const response = yield call(\n            fetch,\n            `${API_BASE_URL}/user/${user.id}/stories/`,\n            {\n              method: 'GET',\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${token}`,\n              },\n            }\n          );\n          if (response.status === 200) {\n            const jsonResult = yield response.json();\n            const normalized = normalize(jsonResult, schemas.users);\n            yield put(\n            actions.completeStoriesFetch(\n                normalized.entities.users,\n                normalized.result\n            ),\n            );\n          } else {\n            const { non_field_errors } = yield response.json();\n            yield put(actions.failStoriesFetch(non_field_errors[0]));\n          }\n        }\n      } catch (error) {\n        yield put(actions.failStoriesFetch('CONNECTION FAILED'));\n      }\n  }\n  \n  export function* watchUserStoriesFetch() {\n    yield takeEvery(\n      types.USER_STORIES_STARTED,\n      userStoriesFetch,\n    );\n  }\n\n  function* userFetch(action) {\n    try {\n        const isAuth = yield select(selectors.isAuthenticated);\n        if (isAuth) {\n          const token = yield select(selectors.getAuthToken);\n          const response = yield call(\n            fetch,\n            `${API_BASE_URL}/user/${action.payload}/`,\n            {\n              method: 'GET',\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': `JWT ${token}`,\n              },\n            }\n          );\n          if (response.status === 200) {\n            const jsonResult = yield response.json();\n            yield put(\n            actions.completeUsFetch(\n                jsonResult\n            ),\n            );\n            console.log(jsonResult)\n          } else {\n            const { non_field_errors } = yield response.json();\n            yield put(actions.failUserFetch(non_field_errors[0]));\n          }\n        }\n      } catch (error) {\n        yield put(actions.failUserFetch('CONNECTION FAILED'));\n      }\n  }\n  \n  export function* watchCurrentUserFetch() {\n    yield takeEvery(\n      types.USER_STARTED,\n      userFetch,\n    );\n  }\n"]},"metadata":{},"sourceType":"module"}